return require 'CodeGen' {

   declaration = [[

#include <inttypes.h>
extern void 
${name}(  
      ${op1type} *in1,  
      ${op2type} *in2,  
      uint64_t nR,  
      ${returntype} * restrict out 
      ) 
;

   ]],
   definition = [[

#include "${name}.h"
void 
${name}(  
      ${op1type} *in1,  
      ${op2type}  *in2,  
      uint64_t nR,  
      ${returntype} * restrict out 
      )

{ 
 ${op1type} inv1; 
 ${op2type} inv2; 
 ${returntype} outv; 
#pragma omp parallel for 
 for ( uint64_t i = 0; i < nR; i++ ) {  
   inv1 = *in1; 
   inv2 = *in2; 
   outv = inv1 ${operation} inv2; 
   *out = outv; 
   in1++; 
   in2++; 
   out++; 
 } 
}

   ]]
}
